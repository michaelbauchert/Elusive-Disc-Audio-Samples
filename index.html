<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Adding Audio Samples</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <style media="screen">
      .hidden { display: none;}
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Full-Length Audio to 30 Second Audio Sample Converter</h1>
      <p>Michael Bauchert created this utility to quickly convert full-length audio clips to 30 second snippets with crossfades at the beginning and end. Conversion and processing happens on the client side using <a href="https://tonejs.github.io/">Tone.js</a> to shorten the clips and crossfade the edges, and <a href="https://github.com/zhuker/lamejs">Lame.js</a> to convert the Tone.js audio buffers into mp3 files.</p>

      <p><a href="">Check out the code for this utility on GitHub.</a></p>

      <div class="input-group">
        <div class="custom-file">
          <input type="file" name="file-upload" class="custom-file-input" id="file-upload" aria-describedby="file-upload" accept="audio/*" multiple="true">
          <label class="custom-file-label" for="file-upload">Choose file</label>
        </div>
      </div>
      <br>
      <!--list which files load into so the user can verify their selection-->
      <ul class="list-group" id="file-list">
        <!--<li class="list-group-item">Track 1</li>-->
      </ul>

      <br>

      <!--Loading Spinner to indicate work being done after user selects files to convert-->
      <div class="spinner-border hidden" role="status">
        <span class="sr-only">Loading...</span>
      </div>

      <!--Input field for converted files name and button to begin the conversion process-->
      <div class="input-group mb-3 hidden" id="get-sound-samples">
        <input type="text" id="file-name" class="form-control" placeholder="Audio Sample File Name" aria-label="Audio Sample File Name" aria-describedby="button-addon2">
        <div class="input-group-append">
          <button class="btn btn-outline-secondary" type="button" id="button-addon2" onclick="getSoundSamples()">Convert to Sound Samples</button>
        </div>
      </div>

      <!--progress bar to indicate the current status of the file conversion process-->
      <div class="progress hidden" id="progress-container" style="height: 2rem">
        <div class="progress-bar" id="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
      </div>

      <a id="download" style="display: none"></a>

      <h1>Custom <strong>&lt;elusive-sample&gt;</strong> Component</h1>
      <p>After the audio mp3 files are created and automatically downloaded to the user's computer, they are uploaded and referenced using the custom tag, <strong>&lt;elusive-sample&gt;</strong>, also created by Michael Bauchert. Check out how it works below or <a href="">check out what's under the hood on GitHub.</a></p>

      <section id="selections">
          <ul class="list-group" id="file-list">
          <li class="list-group-item">Bells 1 <elusive-sample src="audio/01 bells.mp3"></elusive-sample></li>
          <li class="list-group-item">Bells 2 <elusive-sample src="audio/02 bells.mp3"></elusive-sample></li>
          <li class="list-group-item">Bells 3 <elusive-sample src="audio/03 bells.mp3"></elusive-sample></li>
          <li class="list-group-item">Bells 4 <elusive-sample src="audio/04 bells.mp3"></elusive-sample></li>
        </ul>
      </section>
    </div>

    
    <script type="text/javascript" src="js/Tone.js"></script>
    <script src="js/lame.all.js"></script>

    <!--By Michael Bauchert-->
    <script type="module" src="js/elusive-sample.js"></script>
    <script type="text/javascript" src="js/script.js"></script>
  </body>
</html>
